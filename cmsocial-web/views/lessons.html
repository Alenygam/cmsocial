<div class="container">
  <div class="row container">
    <div>
      <div ng-repeat="lesson in lessons">
        <span ng-if="userManager.getUser().access_level < 3" class="public-toggle">Public <input type="checkbox" ng-model="lesson.access_level" ng-true-value="7" ng-false-value="0" ng-change="togglePublic(lesson)"/></span>
        <h3 ng-click="lesson.visible = !lesson.visible">
          <i class="fa fa-angle-right" ng-if="!lesson.visible"></i>
          <i class="fa fa-angle-down" ng-if="lesson.visible"></i>
          {{lesson.title}}
          <span ng-if="lesson.score == 0" class="badge badge-wrong">0 / {{lesson.total_score}}</span>
          <span ng-if="lesson.score > 0 && lesson.score < lesson.total_score" class="badge badge-partial">{{lesson.score}} / {{lesson.total_score}}</span>
          <span ng-if="lesson.score == lesson.total_score" class="badge badge-correct">{{lesson.score}} / {{lesson.total_score}}</span>
        </h3>
        <div class="list-group" ng-if="lesson.visible">
          <a class="list-group-item" ng-repeat="task in lesson.tasks" ng-class="{'correct': task.score == 100, 'partial': task.score > 0 && task.score < 100, 'wrong': task.score == 0}" ui-sref="task.statement({ taskName: task.name })">
            <i class="fa fa-angle-right"></i> {{'Exercise' | l10n}} {{task.num}}: {{task.title}}
            <span ng-if="task.score == 0" class="badge badge-wrong">0 / 100</span>
            <span ng-if="task.score > 0 && task.score < 100" class="badge badge-partial">{{task.score}} / 100</span>
            <span ng-if="task.score == 100" class="badge badge-correct">100 / 100</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
